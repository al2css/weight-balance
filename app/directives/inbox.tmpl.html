<div class="inbox">
    <div class="search-bar">
        <div class="inbox__count">
            You have {{ viewInbox.inboxMessages.length && viewInbox.inboxMessages.length || 'no' }} messages
        </div>
        <div ng-hide="!viewInbox.inboxMessages.length" class="inbox__search__box">
            <input type="text" class="inbox__search" ng-model="viewInbox.search" value="" placeholder="Search by 'from', e.g. TicketMaster">
        </div>
    </div>
    <ul class="inbox__list">
        <li ng-show="!viewInbox.inboxMessages.length" class="no-emails">No messages! Try sending one to a friend.</li>
        <!-- <li ng-repeat="message in viewInbox.inboxMessages | orderBy:'date' | filter:{ from: viewInbox.search }"> -->
        <li ng-repeat="message in viewInbox.inboxMessages | orderBy:'date' | filter: viewInbox.search" ng-class="{'unread' : message.unread}">
            <div class="inbox__list-info">
                <p class="inbox__list-from"> From: {{ message.from }} </p>
                <p class="inbox__list-date"> {{ message.date | date: 'dd/MM/yyyy' }} </p>
                <p class="inbox__list-subject"> {{ message.subject }} </p>
            </div>
            <div class="inbox__list-actions">
                <a href="" ng-click="viewInbox.goToMessage(message.id);">Read</a>
                <a href="" ng-click="viewInbox.deleteMessage(id, $index);">Delete</a>
            </div>
        </li>
    </ul>
</div>
